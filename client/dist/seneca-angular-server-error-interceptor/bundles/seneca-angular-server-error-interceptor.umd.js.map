{"version":3,"file":"seneca-angular-server-error-interceptor.umd.js.map","sources":["ng://seneca-angular-server-error-interceptor/lib/seneca-angular-server-error-interceptor.service.ts","ng://seneca-angular-server-error-interceptor/lib/seneca-angular-server-error-interceptor.component.ts","ng://seneca-angular-server-error-interceptor/lib/seneca-angular-server-error-interceptor.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  HttpErrorResponse,\n  HttpEvent,\n  HttpHandler,\n  HttpInterceptor,\n  HttpRequest\n} from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, retry } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\n\n/**\n * intercept every single server call, retry once and rethrow the error if it persists\n */\nexport class ServerErrorInterceptor implements HttpInterceptor {\n  intercept(\n    req: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    console.log(\"using seneca-angular-server-error-interceptor\");\n    return next.handle(req).pipe(\n      retry(1),\n      catchError((error: HttpErrorResponse) => {\n        return throwError(error);\n      })\n    );\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-seneca-angular-server-error-interceptor',\n  template: `\n    <p>\n      seneca-angular-server-error-interceptor works!\n    </p>\n  `,\n  styles: []\n})\nexport class SenecaAngularServerErrorInterceptorComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { SenecaAngularServerErrorInterceptorComponent } from './seneca-angular-server-error-interceptor.component';\n\n@NgModule({\n  declarations: [SenecaAngularServerErrorInterceptorComponent],\n  imports: [\n  ],\n  exports: [SenecaAngularServerErrorInterceptorComponent]\n})\nexport class SenecaAngularServerErrorInterceptorModule { }\n"],"names":["retry","catchError","throwError","Injectable","Component","NgModule"],"mappings":";;;;;;;;;;AAAA;QAWA;SAoBC;;;;;;QAZC,0CAAS;;;;;YAAT,UACE,GAAqB,EACrB,IAAiB;gBAEjB,OAAO,CAAC,GAAG,CAAC,+CAA+C,CAAC,CAAC;gBAC7D,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAC1BA,eAAK,CAAC,CAAC,CAAC,EACRC,oBAAU;;;mBAAC,UAAC,KAAwB;oBAClC,OAAOC,eAAU,CAAC,KAAK,CAAC,CAAC;iBAC1B,EAAC,CACH,CAAC;aACH;;oBAnBFC,aAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;qCAbD;KAWA;;;;;;ACXA;QAaE;SAAiB;;;;QAEjB,+DAAQ;;;YAAR;aACC;;oBAdFC,YAAS,SAAC;wBACT,QAAQ,EAAE,6CAA6C;wBACvD,QAAQ,EAAE,+EAIT;qBAEF;;;;QAQD,mDAAC;KAhBD;;;;;;ACFA;QAGA;SAM0D;;oBANzDC,WAAQ,SAAC;wBACR,YAAY,EAAE,CAAC,4CAA4C,CAAC;wBAC5D,OAAO,EAAE,EACR;wBACD,OAAO,EAAE,CAAC,4CAA4C,CAAC;qBACxD;;QACwD,gDAAC;KAN1D;;;;;;;;;;;;;;;;;;;;;;;;"}
