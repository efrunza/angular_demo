{"version":3,"file":"seneca-angular-server-error-interceptor.js.map","sources":["ng://seneca-angular-server-error-interceptor/lib/seneca-angular-server-error-interceptor.service.ts","ng://seneca-angular-server-error-interceptor/lib/seneca-angular-server-error-interceptor.component.ts","ng://seneca-angular-server-error-interceptor/lib/seneca-angular-server-error-interceptor.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  HttpErrorResponse,\n  HttpEvent,\n  HttpHandler,\n  HttpInterceptor,\n  HttpRequest\n} from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, retry } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\n\n/**\n * intercept every single server call, retry once and rethrow the error if it persists\n */\nexport class ServerErrorInterceptor implements HttpInterceptor {\n  intercept(\n    req: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    console.log(\"using seneca-angular-server-error-interceptor\");\n    return next.handle(req).pipe(\n      retry(1),\n      catchError((error: HttpErrorResponse) => {\n        return throwError(error);\n      })\n    );\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-seneca-angular-server-error-interceptor',\n  template: `\n    <p>\n      seneca-angular-server-error-interceptor works!\n    </p>\n  `,\n  styles: []\n})\nexport class SenecaAngularServerErrorInterceptorComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { SenecaAngularServerErrorInterceptorComponent } from './seneca-angular-server-error-interceptor.component';\n\n@NgModule({\n  declarations: [SenecaAngularServerErrorInterceptorComponent],\n  imports: [\n  ],\n  exports: [SenecaAngularServerErrorInterceptorComponent]\n})\nexport class SenecaAngularServerErrorInterceptorModule { }\n"],"names":[],"mappings":";;;;;;;;AAAA,AAeA;;;AAGA,MAAa,sBAAsB;;;;;;IACjC,SAAS,CACP,GAAqB,EACrB,IAAiB;QAEjB,OAAO,CAAC,GAAG,CAAC,+CAA+C,CAAC,CAAC;QAC7D,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAC1B,KAAK,CAAC,CAAC,CAAC,EACR,UAAU;;;;QAAC,CAAC,KAAwB;YAClC,OAAO,UAAU,CAAC,KAAK,CAAC,CAAC;SAC1B,EAAC,CACH,CAAC;KACH;;;YAnBF,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;ACbD,MAWa,4CAA4C;IAEvD,iBAAiB;;;;IAEjB,QAAQ;KACP;;;YAdF,SAAS,SAAC;gBACT,QAAQ,EAAE,6CAA6C;gBACvD,QAAQ,EAAE;;;;GAIT;aAEF;;;;;;;;;ACVD,MASa,yCAAyC;;;YANrD,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,4CAA4C,CAAC;gBAC5D,OAAO,EAAE,EACR;gBACD,OAAO,EAAE,CAAC,4CAA4C,CAAC;aACxD;;;;;;;;;;;;;;;"}
